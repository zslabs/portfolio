//
// Title styles
//

%titleStyles {
  position: relative;
  display: inline-flex;
  z-index: 1;

  &::before {
    @include fluid-size(
      'width',
      ($base-h3-font-size / 1.25),
      ($base-h2-font-size / 1.25)
    );
    @include fluid-size(
      'height',
      ($base-h3-font-size / 1.25),
      ($base-h2-font-size / 1.25)
    );

    content: '';
    z-index: -1;
    position: absolute;
    top: 0;
    left: 0;
    transform: translateX(-25%);
    background-image: url('../media/pattern.png');
    background-repeat: no-repeat;
  }
}

//
// Code filenames
//

.filename {
  margin-top: $global-whitespace-regular;
  background: $global-dark;
  color: $global-contrast;
  font-size: $global-font-size-small;
  font-family: $base-code-font-family;
  padding: $global-whitespace-xsmall $global-whitespace-regular;
  border-top-left-radius: $global-border-radius;
  border-top-right-radius: $global-border-radius;

  + .gatsby-highlight pre {
    border-top-left-radius: 0;
    border-top-right-radius: 0;
  }
}

//
// CodePen Embeds
// `gatsby-remark-codepen`
//

.codepenEmbed {
  position: relative;
  padding-bottom: 56.25%;

  iframe {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
  }
}

//
// Full section
//

.section--full {
  left: 50%;
  margin: 0 -50vw;
  position: relative;
  right: 50%;
  width: 100vw;
}

.section-title {
  @extend %titleStyles;
}

//
// OffCanvas
//

.offCanvas-title {
  @extend %titleStyles;

  &::before {
    clip-path:
      polygon(
        0% 0%,
        0% 100%,
        25% 100%,
        25% 25%,
        75% 25%,
        75% 75%,
        25% 75%,
        25% 100%,
        100% 100%,
        100% 0%
      );
    background-position: -325px -315px;
    background-size: 750px 500px;
  }
}

//
// About Modal
//

[class^='aboutModal-social--'] {
  transition: transform 0.25s easeOutBack;
  transform-origin: center center;

  &:hover,
  &:focus {
    transform: scale(1.15);
  }
}

.aboutModal-social--github {
  background-position: 45% 70%;
}

.aboutModal-social--codepen {
  background-position: 30% 30%;
}

.aboutModal-social--twitter {
  background-position: 70% 10%;
}

//
// Home link
//

// 1. GSAP
.home__latestArticle {
  @include fluid-size(
    'margin-top',
    $global-whitespace-xlarge,
    ($global-whitespace-xlarge * 1.5)
  );

  text-align: center;
  display: inline-flex;
  flex-direction: column;
  padding: $global-whitespace-regular;
  position: relative;
  left: 50%;
  z-index: 1;
  transform: translateX(-50%);
  transition: transform 0.25s easeInOutBack;
  transform-origin: center center;

  // 1
  opacity: 0;

  &:hover,
  &:focus {
    transform: translateX(-50%) scale(1.05);
  }

  &::before,
  &::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background:
      linear-gradient(
        to bottom right,
        $global-background,
        ease-in-out,
        $global-panel-background
      );
    transform: skew(-15deg);
  }

  &::before {
    z-index: -1;
  }

  &::after {
    z-index: -2;
    background: url('../media/pattern.png') no-repeat -600px -575px;
    background-size: 1500px 1000px;
    background-repeat: no-repeat;
    opacity: $global-disabled-opacity;
    transform:
      skew(-15deg)
      translate(-$global-whitespace-small, -$global-whitespace-small);
  }

  @media (min-width: $global-viewport-small) {
    min-width: calc(#{$global-viewport-small} * 0.75);
  }
}

//
// Projects
//

// 1. GSAP
.section--projects {
  .section-title {
    &::before {
      clip-path: polygon(0 100%, 0 0, 100% 0);
      background-position: -200px -75px;
      background-size: 750px 500px;
    }
  }
}
